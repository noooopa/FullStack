<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Busan</title>
    <script src="http://code.jquery.com/jquery-3.1.1.js"></script>
    <style>
        /* ëª¨ë…¸í†¤ ìŠ¤íƒ€ì¼ */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        h1 {
            font-size: 28px;
            font-weight: bold;
            color: #222;
        }
        h2 {
            font-size: 18px;
            color: #555;
            margin-bottom: 20px;
        }
        .weather-container {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            margin: 0 auto;
        }
        .weather-item {
            font-size: 16px;
            padding: 8px 0;
            border-bottom: 1px solid #ddd;
        }
        .weather-item:last-child {
            border-bottom: none;
        }
        .weather-icon-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 0;
        }
        .weather-icon img {
            width: 80px;
            margin-bottom: 5px;
        }
        .weather-text {
            font-size: 18px;
            font-weight: bold;
            color: #444;
        }
    </style>
    <script>
    $(document).ready(function(){
        $.getJSON("http://api.openweathermap.org/data/2.5/weather?id=1838524&appid=06bfd308b7a0a8b05cd9c4a8820dfe9e&units=metric", function(data) {
            console.log(data); // ì½˜ì†”ì—ì„œ ë°ì´í„° í™•ì¸ ê°€ëŠ¥

            // ë„ì‹œ ì •ë³´
            let city = data.name; // ë„ì‹œ ì´ë¦„
            let country = data.sys.country; // êµ­ê°€ ì½”ë“œ

            // í˜„ì¬ ë‚ ì”¨ ì •ë³´
            let temp = data.main.temp; // í˜„ì¬ ì˜¨ë„
            let tempMin = data.main.temp_min; // ìµœì € ì˜¨ë„
            let tempMax = data.main.temp_max; // ìµœê³  ì˜¨ë„
            let humidity = data.main.humidity; // ìŠµë„
            let pressure = data.main.pressure; // ê¸°ì••
            let windSpeed = data.wind.speed; // í’ì† (m/s)
            let windDeg = data.wind.deg; // í’í–¥ (ê°ë„)
            let clouds = data.clouds.all; // êµ¬ë¦„ ì–‘ (%)

            // ë‚ ì”¨ ìƒíƒœ
            let weatherMain = data.weather[0].main; // ë‚ ì”¨ ìƒíƒœ (ì˜ˆ: Clear, Rain)
            let weatherDesc = data.weather[0].description; // ìƒì„¸ ì„¤ëª…
            let iconCode = data.weather[0].icon; // ì•„ì´ì½˜ ì½”ë“œ
            
            // ê³µì‹ Weather Conditions ì•„ì´ì½˜ URL ì‚¬ìš©
            let iconUrl = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;

            // í˜„ì¬ ë‚ ì§œ ë° ì‹œê°„ ì¶œë ¥
            let now = new Date();
            let formattedDate = now.getFullYear() + "/" + (now.getMonth()+1) + "/" + now.getDate() + 
                                " " + now.getHours() + ":" + (now.getMinutes()<10 ? '0' : '') + now.getMinutes();
            
            // HTML ì—…ë°ì´íŠ¸
            $("h2").html(`ğŸ“… ${formattedDate} - ì‹¤ì‹œê°„ ë‚ ì”¨`);
            $(".city-name").html("ğŸ“ " + city + " (" + country + ")");
            $(".temp").html("ğŸŒ¡ï¸ í˜„ì¬ ì˜¨ë„: " + temp + "Â°C");
            $(".temp-range").html("ğŸ”½ ìµœì € ì˜¨ë„: " + tempMin + "Â°C | ğŸ”¼ ìµœê³  ì˜¨ë„: " + tempMax + "Â°C");
            $(".humidity").html("ğŸ’§ ìŠµë„: " + humidity + "%");
            $(".pressure").html("ğŸˆ ê¸°ì••: " + pressure + " hPa");
            $(".wind").html("ğŸŒ¬ï¸ ë°”ëŒ: " + windSpeed + " m/s, í’í–¥ " + windDeg + "Â°");
            $(".clouds").html("â˜ï¸ êµ¬ë¦„ëŸ‰: " + clouds + "%");

            // ë‚ ì”¨ ì•„ì´ì½˜ & í…ìŠ¤íŠ¸
            $(".weather-icon-container").html(`
                <img src="${iconUrl}" alt="Weather icon">
                <div class="weather-text">ğŸŒˆ ${weatherMain} (${weatherDesc})</div>
            `);
        }).fail(function() {
            alert("ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
        });
    });
    </script>
</head>
<body>
    <h1>ğŸŒ Busan Weather</h1>
    <h2>ğŸ“… - ì‹¤ì‹œê°„ ë‚ ì”¨</h2>
    <div class="weather-container">
        <div class="weather-item city-name"></div>
        <div class="weather-item weather-icon-container"></div> <!-- ì•„ì´ì½˜ê³¼ í…ìŠ¤íŠ¸ í•œ ì¹¸ì— ì •ë ¬ -->
        <div class="weather-item temp"></div>
        <div class="weather-item temp-range"></div>
        <div class="weather-item humidity"></div>
        <div class="weather-item pressure"></div>
        <div class="weather-item wind"></div>
        <div class="weather-item clouds"></div>
    </div>
</body>
</html>
